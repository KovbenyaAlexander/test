(this["webpackJsonpreact-reg-auth"]=this["webpackJsonpreact-reg-auth"]||[]).push([[0],{123:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return W}));var a=n(0),c=n.n(a),r=n(10),o=n.n(r),l=n(164),s=n(159),i=(n(94),n(28)),u=n(55),j=n.n(u),b=n(71),d=n(50),h=n.n(d),O=n(72),p=n.n(O),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return JSON.parse(localStorage.getItem(e));localStorage.setItem(e,JSON.stringify(t))},v="LOGIN_CHANGE",x="PASS_CHANGE",f="REGISTRATION",m="LOGOUT";var k=function(){var e=Object(b.a)(j.a.mark((function e(t,n,a){var c,r,o,l,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a?"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=":"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=",r={email:t,password:n,returnSecureToken:!0},e.prev=2,e.next=5,p.a.post("".concat(c).concat("AIzaSyBnRL33oipPYqxu25TDLqqsz-2VYN9n6xg"),r);case 5:200===(o=e.sent).status&&(console.log(o),l=o.data,s=new Date((new Date).getTime()+1e3*l.expiresIn),g("token",l.idToken),g("userId",l.localId),g("expirationDate",s),a?h.a.toast({html:"Account created successfully"}):h.a.toast({html:"Sign in was successful!"}),W.dispatch((i=l.idToken,{type:f,token:i}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),h.a.toast({html:"Error"});case 12:case"end":return e.stop()}var i}),e,null,[[2,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),y=n(5);var V=Object(i.b)((function(e){return{loginValue:e.loginValue,passValue:e.passValue}}),(function(e){return{loginChangehandler:function(t){return e(function(e){return{type:v,value:e}}(t))},passChangehandler:function(t){return e(function(e){return{type:x,value:e}}(t))}}}))((function(e){return Object(y.jsxs)("div",{className:"form-wrapper",children:[Object(y.jsxs)("div",{className:"formInputs",children:[Object(y.jsx)(l.a,{label:"Login",value:e.loginValue,onChange:function(t){return e.loginChangehandler(t.target.value)}}),Object(y.jsx)(l.a,{label:"Password",value:e.passValue,onChange:function(t){return e.passChangehandler(t.target.value)}})]}),Object(y.jsxs)("div",{className:"formButtons",children:[Object(y.jsx)(s.a,{onClick:function(){return k(e.loginValue,e.passValue,!0)},variant:"contained",color:"primary",children:"sign up"}),Object(y.jsx)(s.a,{onClick:function(){return k(e.loginValue,e.passValue,!1)},variant:"contained",color:"secondary",children:"sign in"})]})]})})),w=n(77),C=n(15),I=n(78),T=n(162),S=n(163),N=n(166),P=n(161),A=n(160),G=n(165);var L=Object(i.b)(null,(function(e){return{logoutHandler:function(){return e({type:"LOGOUT"})}}}))((function(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(s.a,{onClick:function(){localStorage.setItem("token",0),e.logoutHandler()},variant:"contained",color:"primary",children:"logout"})})}));function D(e){var t=e.children,n=e.value,a=e.index,c=Object(I.a)(e,["children","value","index"]);return Object(y.jsx)("div",Object(C.a)(Object(C.a)({role:"tabpanel",hidden:n!==a,id:"nav-tabpanel-".concat(a),"aria-labelledby":"nav-tab-".concat(a)},c),{},{children:n===a&&Object(y.jsx)(G.a,{p:3,children:Object(y.jsx)(A.a,{children:t})})}))}function E(e){return{id:"nav-tab-".concat(e),"aria-controls":"nav-tabpanel-".concat(e)}}function H(e){return Object(y.jsx)(P.a,Object(C.a)({component:"a",onClick:function(e){e.preventDefault()}},e))}var J=Object(T.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function q(){var e=J(),t=c.a.useState(0),n=Object(w.a)(t,2),a=n[0],r=n[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:e.root,children:[Object(y.jsx)(S.a,{position:"static",children:Object(y.jsxs)(N.a,{variant:"fullWidth",value:a,onChange:function(e,t){r(t)},"aria-label":"nav tabs example",children:[Object(y.jsx)(H,Object(C.a)({label:"Page One",href:"/drafts"},E(0))),Object(y.jsx)(H,Object(C.a)({label:"Page Two",href:"/trash"},E(1))),Object(y.jsx)(H,Object(C.a)({label:"Page Three",href:"/spam"},E(2)))]})}),Object(y.jsx)(D,{value:a,index:0,children:"Page One"}),Object(y.jsx)(D,{value:a,index:1,children:"Page Two"}),Object(y.jsx)(D,{value:a,index:2,children:"Page Three"})]}),Object(y.jsx)(L,{})]})}var B=n(56),R=n(12);var U=Object(i.b)((function(e){return{isAuthenticated:!!e.token}}))((function(e){var t=Object(y.jsx)(B.a,{children:Object(y.jsxs)(R.d,{children:[Object(y.jsx)(R.b,{path:"/auth",component:V,exact:!0}),Object(y.jsx)(R.a,{to:"/auth",exact:!0})]})});return e.isAuthenticated&&(t=Object(y.jsx)(B.a,{children:Object(y.jsxs)(R.d,{children:[Object(y.jsx)(R.b,{path:"/data",component:q,exact:!0}),Object(y.jsx)(R.a,{to:"/data",exact:!0})]})})),t})),z=n(45),F={loginValue:"",passValue:"",token:null};g("token")&&(F.token=g("token"));var W=Object(z.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(C.a)(Object(C.a)({},e),{},{loginValue:t.value});case x:return Object(C.a)(Object(C.a)({},e),{},{passValue:t.value});case f:return Object(C.a)(Object(C.a)({},e),{},{token:t.token,loginValue:"",passValue:""});case m:return Object(C.a)(Object(C.a)({},e),{},{token:null});default:return e}})),Y=Object(y.jsx)(i.a,{store:W,children:Object(y.jsx)(U,{})});o.a.render(Y,document.getElementById("root"))},94:function(e,t,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.02485ab5.chunk.js.map